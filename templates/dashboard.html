{% extends "base.html" %}

{% block content %}
<div class="glass-container">
    <div class="dashboard-header">
        <h2><span class="welcome-text">Welcome,</span> <span class="username">{{ username }}</span></h2>
        <p class="dashboard-subtitle">Manage and share your files securely</p>
    </div>
    
    <div class="upload-section">
        <h3><i class="fas fa-cloud-upload-alt"></i> Upload New File</h3>
        <form method="POST" action="{{ url_for('upload_file') }}" enctype="multipart/form-data" class="upload-form">
            <div class="form-group file-input-group">
                <label for="file-upload" class="custom-file-upload">
                    <i class="fas fa-file-plus"></i> Choose a file
                </label>
                <input id="file-upload" type="file" class="form-control" name="file" required>
                <span class="selected-file-name">No file selected</span>
            </div>
            <button type="submit" class="btn upload-btn">
                <i class="fas fa-upload"></i> Upload
            </button>
        </form>
    </div>

    <div class="files-section">
        <h3><i class="fas fa-folder-open"></i> Your Files</h3>
        {% if files %}
            {% for file in files %}                <div class="file-card">
                    <div class="file-info">
                        <div class="file-icon">
                            <i class="fas fa-file-alt"></i>
                        </div>
                        <div class="file-details">
                            <h4>{{ file.original_filename }}</h4>
                            <p><i class="fas fa-clock"></i> {{ file.upload_date.strftime('%Y-%m-%d %H:%M:%S') }}</p>
                        </div>
                    </div>
                    <div class="file-actions">
                        <a href="{{ url_for('download_file', filename=file.filename) }}" class="btn action-btn download-btn">
                            <i class="fas fa-download"></i> Download
                        </a>
                        <a href="{{ url_for('show_qr', filename=file.filename) }}" target="_blank" class="btn action-btn qr-btn">
                            <i class="fas fa-qrcode"></i> QR Code
                        </a>
                    </div>
                </div>
            {% endfor %}
        {% else %}
            <p>No files uploaded yet.</p>
        {% endif %}
    </div>
</div>
{% endblock %}
